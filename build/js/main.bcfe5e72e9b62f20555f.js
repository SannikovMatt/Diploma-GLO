(()=>{"use strict";const e=document.querySelector(".popup-dialog-repair-types").querySelector(".close"),t=document.querySelector(".repair-types-tab").querySelector(".link-list-repair"),r=document.querySelector(".popup-repair-types"),n=()=>{r.style.visibility="visible"},l=()=>{r.style.visibility=""},o=e=>{e.scrollIntoView({block:"start",behavior:"smooth"})};window.addEventListener("resize",(()=>{document.querySelector(".popup-dialog-menu").style.transform=""}));const c=()=>{document.querySelector(".popup-dialog-menu").style.transform=""},s=document.querySelectorAll('[name="phone"]'),i=document.querySelectorAll(".button_wide"),a=document.querySelector(".close-consultation"),u=document.querySelector(".popup-consultation"),d=()=>{u.style.visibility="visible"},y=()=>{u.style.visibility=""},p=document.querySelector(".popup-privacy"),m=document.querySelectorAll('span[class="link-privacy"'),v=p.querySelector(".close"),g=()=>{p.style.visibility="visible"},f=()=>{p.style.visibility=""},h=document.getElementById("formula");let E;const S=document.querySelector(".header-contacts__arrow"),q=document.querySelector(".header-contacts__phone-number-accord"),k=q.querySelector(".header-contacts__phone-number");let b=!1;const _=()=>{b=!1,q.style.top="",k.style.opacity="",S.style.transform=""},L=document.querySelector(".popup-thank-bg"),w=document.querySelector(".close-thank"),A=()=>{L.style.visibility=""},x=document.querySelectorAll("form"),C=e=>{e.preventDefault();const t=e.target,r=t.querySelector('[type="checkbox"]'),n=t.querySelector('[name="name"]');if(n&&(n.required="true"),!1===r.checked)return void console.error("Unchecked Checkox");const l=new FormData(t),o={};for(let e of l){if(""===e[1].trim()){console.log("Field is empty");break}o[e[0]]=e[1]}var c;o&&(c=o,fetch("../../../server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(c)})).then((e=>{e.ok&&(t.reset(),y(),L.style.visibility="visible")}))},I=document.querySelector(".accordion  ul").querySelectorAll("li"),$=()=>{I.forEach((e=>{e.querySelector("h2").classList.remove("msg-active")}))},B=e=>{const t=e.currentTarget,r=t.querySelector("h2");r.classList.contains("msg-active")?r.classList.toggle("msg-active"):($(),r.classList.add("msg-active"),setTimeout((()=>{t.getBoundingClientRect().top<0&&t.scrollIntoView({block:"start",behavior:"smooth"})}),720))},D=document.getElementById("transparency-arrow_left"),z=document.getElementById("transparency-arrow_right"),T=document.querySelector(".transparency-slider"),X=T.querySelectorAll(".transparency-item");let O=0;const R=()=>{D.style.display=0===O?"none":"",O===X.length-1?z.style.display="none":z.style.display=""};console.log("zawel");const F=document.querySelector(".popup-transparency"),V=document.querySelectorAll(".transparency-item"),j=F.querySelectorAll(".close"),J=()=>{F.style.visibility="visible"},N=()=>{F.style.visibility=""},P=document.querySelector(".popup-transparency-slider-wrap"),U=P.querySelector(".popup-transparency-slider"),G=P.querySelector("#transparency_left"),H=P.querySelector("#transparency_right"),K=P.querySelector(".slider-counter-content__total"),M=P.querySelector(".slider-counter-content__current");let Q=P.querySelectorAll(".popup-transparency-slider__slide").length,W=0;M.textContent=W+1,K.textContent=Q;const Y=()=>{M.textContent=W+1,G.style.display=0===W?"none":"",H.style.display=2===W?"none":""};(()=>{const e=document.querySelector(".popup-dialog-menu"),t=document.querySelector(".menu__icon"),r=document.querySelector(".close-menu");document.querySelector(".button-footer").addEventListener("click",(e=>{if(e.target.closest(".button-footer")){e.preventDefault();const t=document.getElementById("main");o(t)}})),r.addEventListener("click",c),t.addEventListener("click",(t=>{e.style.transform="translate3d(0,0,0)"})),e.addEventListener("click",(e=>{const t=e.target;if(t.closest(".popup-menu-nav__item")){e.preventDefault();const r=t.getAttribute("href"),n=document.querySelector(r);c(),o(n)}(t.closest(".link-list-menu")||t.closest(".link-list-repair"))&&t.closest(".menu-link")&&(c(),n())})),document.addEventListener("click",(e=>{const t=e.target;t.closest(".popup-dialog-menu")||t.closest(".menu__icon")||c()}))})(),t.addEventListener("click",(e=>{e.target.closest(".link-list-repair")&&n()})),e.addEventListener("click",(()=>{l()})),r.addEventListener("click",(e=>{e.target.closest(".popup-dialog-repair-types")||l()})),s.forEach((e=>function(e,t="+7 (___) ___-__-__"){const r=document.querySelectorAll(e);function n(e){const r=e.keyCode,n=t,l=n.replace(/\D/g,""),o=this.value.replace(/\D/g,"");let c=0,s=n.replace(/[_\d]/g,(function(e){return c<o.length?o.charAt(c++)||l.charAt(c):e}));c=s.indexOf("_"),-1!=c&&(s=s.slice(0,c));let i=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");i=new RegExp("^"+i+"$"),(!i.test(this.value)||this.value.length<5||r>47&&r<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}for(const e of r)e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)}(`#${e.id}`))),a.addEventListener("click",y),i.forEach((e=>{e.addEventListener("click",d)})),u.addEventListener("click",(e=>{e.target.closest(".feedback-wrap")||y()})),m.forEach((e=>{e.addEventListener("click",g)})),v.addEventListener("click",f),p.addEventListener("click",(e=>{e.target.closest(".popup-dialog-privacy")||f()})),h.addEventListener("mouseover",(e=>{const t=e.target;if(!t.closest(".formula-item__icon-inner-text"))return;const r=t.closest(".formula-item").querySelector(".formula-item-popup");var n;E=n=r,E.getBoundingClientRect().top<0&&(E.style.transform="translate3d(0, 200%, 0)",E.parentElement.parentElement.style.zIndex="1000"),n.style.visibility="visible",n.style.opacity="1"})),h.addEventListener("mouseout",(e=>{const t=e.target;(t.closest(".formula-item")||t.closest(".formula-item-popup"))&&E&&(E.style.visibility="",E.style.opacity="",E.style.transform="",E.parentElement.parentElement.style.zIndex="",E=void 0)})),S.addEventListener("click",(()=>{b?_():(b=!0,q.style.top="30px",k.style.opacity=1,S.style.transform="rotate(180deg)")})),document.addEventListener("click",(e=>{e.target.closest(".header-contacts")||_()})),x.forEach((e=>{e.addEventListener("submit",C)})),$(),I.forEach((e=>{e.addEventListener("click",B)})),w.addEventListener("click",A),document.addEventListener("click",(e=>{e.target.closest(".popup-thank-bg")||A()})),R(),D.addEventListener("click",(()=>{O--,T.style.transform=`translateX(-${100*O}%)`,R()})),z.addEventListener("click",(()=>{O++,T.style.transform=`translateX(-${100*O}%)`,R()})),V.forEach((e=>{e.addEventListener("click",J)})),j.forEach((e=>{e.addEventListener("click",N)})),Y(),G.addEventListener("click",(()=>{W--,U.style.transform=`translateX(-${100*W}%)`,Y()})),H.addEventListener("click",(()=>{W++,U.style.transform=`translateX(-${100*W}%)`,Y()}))})();